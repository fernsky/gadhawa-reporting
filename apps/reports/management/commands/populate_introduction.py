from django.core.management.base import BaseCommand
from django.utils.text import slugify
from apps.reports.models import ReportCategory, ReportSection


class Command(BaseCommand):
    help = 'Populate the database with Introduction chapter content'

    def add_arguments(self, parser):
        parser.add_argument(
            '--force',
            action='store_true',
            help='Force update existing sections with new content',
        )

    def handle(self, *args, **options):
        force_update = options['force']
        self.stdout.write(self.style.SUCCESS('Starting to populate Introduction chapter...'))
        
        if force_update:
            self.stdout.write(self.style.WARNING('Force update mode enabled - will update existing sections'))
        
        # Create the Introduction category
        category, created = ReportCategory.objects.get_or_create(
            slug='introduction',
            defaults={
                'name': 'Introduction',
                'name_nepali': 'परिच्छेद – १ः परिचय',
                'description': 'Introduction chapter covering background, objectives, legal framework, methodology, and scope',
                'description_nepali': 'पृष्ठभूमि, उद्देश्य, कानूनी ढाँचा, कार्यविधि र क्षेत्र समेट्ने परिचय अध्याय',
                'order': 1,
                'icon': 'fas fa-book-open',
                'is_active': True
            }
        )
        
        if created:
            self.stdout.write(self.style.SUCCESS(f'Created category: {category.name}'))
        else:
            self.stdout.write(self.style.WARNING(f'Category already exists: {category.name}'))

        # Define all sections with their content
        sections_data = [
            {
                'section_number': '१.१',
                'title': 'Background',
                'title_nepali': 'पृष्ठभूमि',
                'slug': 'background',
                'content_nepali': '''<p>संविधान र विभिन्न ऐनले स्थानीय तहलाई प्रदान गरेको अधिकार र जिम्मेवारीहरू पूरा गर्न स्थानीय तहमा स्थानीय तथ्याङ्क र सूचनाको उपलब्धता अत्यावश्यक छ। संविधानले स्थानीय सरकारलाई स्थानीय गभर्नेन्स, स्थानीय विकास र स्थानीय सेवा प्रवाहको जिम्मेवारी दिएको छ। साथै स्थानीय तह, प्रदेश र संघीय सरकारबीच समन्वय स्थापना गरी विकासका कार्यक्रमहरू संचालन गर्ने व्यवस्था भएको छ।</p>

<p>संविधान बमोजिम निर्माण भएको स्थानीय सरकार सञ्चालन ऐन, २०७४ बमोजिम स्थानीय तहले आफ्नो क्षेत्रभित्रको सामाजिक-आर्थिक र जनसांख्यिकीय विवरण वस्तुस्थितिको रूपमा सङ्कलन गरी सो विवरणका आधारमा स्थानीय विकासका नीति, योजना, कार्यक्रम र आयोजनाहरूको तर्जुमा गर्नुपर्ने व्यवस्था छ।</p>

<p>स्थानीय सरकार सञ्चालन ऐन, २०७४ को दफा ११ मा गाउँ÷नगरसभाको बैठकमा प्रस्तुत गर्नुपर्ने विषयहरूमा स्थानीय क्षेत्रको विकासका लागि आवश्यक पर्ने सामाजिक-आर्थिक तथा जनसांख्यिकीय विवरण वस्तुस्थिति समावेश गर्नुपर्ने उल्लेख छ। यसैगरी सोही ऐनको दफा १२ मा स्थानीय तहले आफ्नो क्षेत्रमा रहेका नागरिकहरूको सामाजिक-आर्थिक विवरण र जनसांख्यिकीय विवरण वस्तुस्थिति नियमित अद्यावधिक गर्नुपर्ने व्यवस्था छ। स्थानीय तहमा विकासका लागि सूचना व्यवस्थापन प्रणाली निर्माण गर्नुपर्ने व्यवस्था पनि छ।</p>

<p>स्थानीय सरकार सञ्चालन ऐन, २०७४ को दफा ८३ मा स्थानीय तहले आफ्नो क्षेत्रको सामाजिक-आर्थिक र जनसांख्यिकीय विवरण वस्तुस्थितिको रूपमा सङ्कलन गरी सो विवरणका आधारमा स्थानीय विकासका नीति, योजना, कार्यक्रम र आयोजनाहरूको तर्जुमा गर्नुपर्ने व्यवस्था छ। साथै दफा ८४ मा स्थानीय तहले आफ्नो क्षेत्रमा रहेका नागरिकहरूको सामाजिक-आर्थिक विवरण र जनसांख्यिकीय विवरण वस्तुस्थिति नियमित अद्यावधिक गर्नुपर्ने व्यवस्था छ।</p>''',
                'summary_nepali': 'संविधान र कानूनी व्यवस्थाअनुसार स्थानीय तहको वस्तुस्थिति विवरण तयारीको आवश्यकता र महत्त्व',
                'order': 1
            },
            {
                'section_number': '१.२',
                'title': 'Objectives',
                'title_nepali': 'उद्देश्य',
                'slug': 'objectives',
                'content_nepali': '''<p>गाउँ÷नगरपालिकाको वस्तुस्थिति विवरण तयारी गर्ने मुख्य उद्देश्यहरू निम्नानुसार रहेका छन्:</p>

<h3>मुख्य उद्देश्य</h3>
<p>स्थानीय तहको सामाजिक-आर्थिक र जनसांख्यिकीय विवरणलाई व्यवस्थित रूपमा वस्तुस्थिति विवरणको रूपमा तयार गर्नु।</p>

<h3>विशिष्ट उद्देश्यहरू</h3>
<ul>
<li>स्थानीय तहको भौगोलिक, सामाजिक, आर्थिक र राजनीतिक अवस्थाको विस्तृत विवरण तयार गर्नु</li>
<li>जनसंख्या, घरपरिवार, शिक्षा, स्वास्थ्य, कृषि, पशुपालन लगायतका क्षेत्रगत अवस्थाको विश्लेषण गर्नु</li>
<li>स्थानीय तहको समस्या र चुनौतीहरूको पहिचान गर्नु</li>
<li>विकासका सम्भावनाहरूको पहिचान र वर्गीकरण गर्नु</li>
<li>योजना निर्माण र नीति तर्जुमाका लागि आधारभूत सूचना उपलब्ध गराउनु</li>
<li>संसाधन परिचालन र कार्यक्रम सञ्चालनका लागि आधार सिर्जना गर्नु</li>
<li>स्थानीय सुशासन र विकासमा स्थानीय जनताको सहभागिता वृद्धि गर्नु</li>
<li>स्थानीय तहको विकास कार्यक्रमहरूको प्राथमिकीकरण गर्नु</li>
<li>संघीय र प्रदेश सरकारसँगको समन्वयका लागि आधार तयार गर्नु</li>
<li>स्थानीय सूचना प्रणाली विकास गर्नु</li>
</ul>''',
                'summary_nepali': 'वस्तुस्थिति विवरण तयारीका मुख्य र विशिष्ट उद्देश्यहरू',
                'order': 2
            },
            {
                'section_number': '१.३',
                'title': 'Legal and Policy Framework',
                'title_nepali': 'कानूनी तथा नीतिगत आधारहरु',
                'slug': 'legal-policy-framework',
                'content_nepali': '''<p>गाउँ÷नगरपालिकाको वस्तुस्थिति विवरण तयारी गर्ने कानूनी तथा नीतिगत आधारहरू निम्नानुसार छन्:</p>

<h3>संवैधानिक आधार</h3>
<ul>
<li>नेपालको संविधान, २०७२ को धारा २२१ - स्थानीय सरकारको अधिकार र दायित्व</li>
<li>नेपालको संविधान, २०७२ को धारा २२२ - स्थानीय सरकारको शक्ति</li>
<li>संविधानको अनुसूची ८ - स्थानीय सरकारको एकल अधिकारसूची</li>
<li>संविधानको अनुसूची ९ - स्थानीय सरकारको साझा अधिकारसूची</li>
</ul>

<h3>कानूनी आधार</h3>
<ul>
<li>स्थानीय सरकार सञ्चालन ऐन, २०७४ - दफा ११, १२, ८३, ८४</li>
<li>स्थानीय सरकार सञ्चालन नियमावली, २०७४ - नियम १३</li>
<li>अन्तर सरकारी वित्त व्यवस्थापन ऐन, २०७४</li>
<li>सूचना तथा सम्प्रेषण प्रविधि ऐन, २०६३</li>
<li>आर्थिक कार्यविधि तथा वित्तीय उत्तरदायित्व ऐन, २०७६</li>
</ul>

<h3>नीतिगत आधार</h3>
<ul>
<li>राष्ट्रिय विकास समस्या समाधान तथा सुशासन ढाँचा</li>
<li>स्थानीय सुशासन तथा सामुदायिक विकासको निर्देशन</li>
<li>राष्ट्रिय सूचना नीति, २०७६</li>
<li>डिजिटल नेपाल फ्रेमवर्क, २०७६</li>
<li>संघीय मामिला तथा सामान्य प्रशासन मन्त्रालयको निर्देशन</li>
<li>स्थानीय विकास मन्त्रालयको नीति तथा कार्यक्रम</li>
</ul>

<h3>अन्तर्राष्ट्रिय मापदण्ड</h3>
<ul>
<li>दिगो विकास लक्ष्य (SDGs) २०३०</li>
<li>नयाँ सहरी एजेन्डा</li>
<li>पेरिस सम्झौता (जलवायु परिवर्तन)</li>
<li>सेन्डाई फ्रेमवर्क (विपद् जोखिम न्यूनीकरण)</li>
</ul>''',
                'summary_nepali': 'वस्तुस्थिति विवरण तयारीका संवैधानिक, कानूनी, नीतिगत र अन्तर्राष्ट्रिय आधारहरू',
                'order': 3
            },
            {
                'section_number': '१.४',
                'title': 'Preparation Phases',
                'title_nepali': 'तयारीका चरण',
                'slug': 'preparation-phases',
                'content_nepali': '''<p>गाउँ÷नगरपालिकाको वस्तुस्थिति विवरण तयारी गर्ने कार्यमा निम्नलिखित चरणहरू अपनाइएको छ:</p>

<h3>चरणबद्ध कार्यप्रक्रिया</h3>
<p>वस्तुस्थिति विवरण तयारीका लागि आठ चरणको कार्यप्रक्रिया अपनाइएको छ जुन निम्नानुसार छ:</p>''',
                'summary_nepali': 'वस्तुस्थिति विवरण तयारीका मुख्य चरणहरूको परिचय',
                'order': 4
            },
            {
                'section_number': '१.४.१',
                'title': 'Format, Tools and Procedure Preparation',
                'title_nepali': 'वस्तुस्थिति विवरण ढाँचा, औजार तथा कार्यविधि तयारी',
                'slug': 'format-tools-procedure',
                'content_nepali': '''<p>वस्तुस्थिति विवरण तयारी गर्नका लागि पहिलो चरणमा आवश्यक ढाँचा, औजार र कार्यविधिहरू तयार गरिएको छ।</p>

<h3>ढाँचा तयारी</h3>
<ul>
<li>डेटा संकलन ढाँचा (डिजिटल र कागजी)</li>
<li>सर्वेक्षण प्रश्नावली ढाँचा</li>
<li>एफजीडी (फोकस ग्रुप डिस्कसन) निर्देशन</li>
<li>केआईआई (मुख्य व्यक्ति अन्तर्वार्ता) ढाँचा</li>
<li>तथ्याङ्क विश्लेषण ढाँचा</li>
<li>प्रतिवेदन तयारी ढाँचा</li>
</ul>

<h3>औजार तयारी</h3>
<ul>
<li>मोबाइल डेटा संकलन एप्लिकेसन</li>
<li>जीपीएस र म्यापिङ उपकरणहरू</li>
<li>डेटा प्रशोधन सफ्टवेयर</li>
<li>ग्राफिक्स र चार्ट तयारी उपकरणहरू</li>
<li>प्रतिवेदन तयारी टेम्प्लेट</li>
</ul>

<h3>कार्यविधि तयारी</h3>
<ul>
<li>डेटा संकलन कार्यविधि</li>
<li>गुणस्तर नियन्त्रण प्रक्रिया</li>
<li>डेटा सुरक्षा र गोपनीयता नीति</li>
<li>सहभागिता र समन्वय कार्यविधि</li>
<li>प्रतिवेदन तयारी र अनुमोदन प्रक्रिया</li>
</ul>''',
                'summary_nepali': 'वस्तुस्थिति विवरण तयारीका लागि आवश्यक ढाँचा, औजार र कार्यविधिहरूको तयारी',
                'order': 5
            },
            {
                'section_number': '१.४.२',
                'title': 'Preparation Workshop',
                'title_nepali': 'वस्तुस्थिति विवरण तयारी कार्यशाला',
                'slug': 'preparation-workshop',
                'content_nepali': '''<p>वस्तुस्थिति विवरण तयारी गर्ने कार्यक्रमको दोस्रो चरणमा सम्बन्धित सबै सरोकारवालाहरूका लागि तयारी कार्यशाला आयोजना गरिएको छ।</p>

<h3>कार्यशालाका उद्देश्यहरू</h3>
<ul>
<li>वस्तुस्थिति विवरणको महत्त्व र आवश्यकताबारे जानकारी प्रदान गर्नु</li>
<li>कार्यविधि र प्रक्रियाबारे अवगत गराउनु</li>
<li>सरोकारवालाहरूको भूमिका र जिम्मेवारी स्पष्ट गर्नु</li>
<li>समयतालिका र गतिविधिहरूको योजना बनाउनु</li>
<li>संसाधन र जनशक्ति व्यवस्थापन गर्नु</li>
</ul>

<h3>सहभागीहरू</h3>
<ul>
<li>निर्वाचित जनप्रतिनिधिहरू</li>
<li>कार्यपालिका सदस्यहरू</li>
<li>वडा अध्यक्षहरू</li>
<li>कर्मचारीहरू</li>
<li>स्थानीय संस्था र समुदायका प्रतिनिधिहरू</li>
<li>निजी क्षेत्रका प्रतिनिधिहरू</li>
<li>नागरिक समाजका प्रतिनिधिहरू</li>
</ul>

<h3>कार्यशालाका मुख्य विषयहरू</h3>
<ul>
<li>वस्तुस्थिति विवरणको परिचय र महत्त्व</li>
<li>कानूनी आधार र आवश्यकताहरू</li>
<li>डेटा संकलन विधि र तकनिकहरू</li>
<li>गुणस्तर नियन्त्रण र मापदण्डहरू</li>
<li>समयतालिका र कार्ययोजना</li>
</ul>''',
                'summary_nepali': 'सरोकारवालाहरूका लागि आयोजित तयारी कार्यशालाको विवरण',
                'order': 6
            },
            {
                'section_number': '१.४.३',
                'title': 'Facilitator and Volunteer Selection and Orientation',
                'title_nepali': 'सहजकर्ता तथा स्वयंसेवी गणक छनौट अभिमुखीकरण र परिचालन',
                'slug': 'facilitator-volunteer-selection',
                'content_nepali': '''<p>तेस्रो चरणमा वस्तुस्थिति विवरण तयारीका लागि आवश्यक सहजकर्ता तथा स्वयंसेवी गणकहरूको छनौट, अभिमुखीकरण र परिचालन गरिएको छ।</p>

<h3>सहजकर्ता छनौट</h3>
<ul>
<li>न्यूनतम शैक्षिक योग्यता: स्नातक तह</li>
<li>सामुदायिक विकास वा सामाजिक कार्यमा अनुभव</li>
<li>स्थानीय भाषा र संस्कृतिको जानकारी</li>
<li>सञ्चार र नेतृत्व क्षमता</li>
<li>कम्प्युटर र डिजिटल साक्षरता</li>
</ul>

<h3>स्वयंसेवी गणक छनौट</h3>
<ul>
<li>न्यूनतम शैक्षिक योग्यता: मध्यमा वा सो सरह</li>
<li>स्थानीय समुदायमा पहुँच र स्वीकार्यता</li>
<li>ईमानदारी र विश्वसनीयता</li>
<li>आधारभूत गणना र लेखन क्षमता</li>
<li>समुदायसँग काम गर्ने इच्छा</li>
</ul>

<h3>अभिमुखीकरण कार्यक्रम</h3>
<ul>
<li>वस्तुस्थिति विवरणको परिचय र महत्त्व</li>
<li>डेटा संकलन विधि र तकनिकहरू</li>
<li>प्रश्नावली र ढाँचाहरूको प्रयोग</li>
<li>डिजिटल उपकरणहरूको प्रयोग</li>
<li>गुणस्तर नियन्त्रण र मापदण्डहरू</li>
<li>नैतिकता र गोपनीयता</li>
<li>सुरक्षा र जोखिम व्यवस्थापन</li>
</ul>

<h3>परिचालन व्यवस्था</h3>
<ul>
<li>टोलीगत कार्य विभाजन</li>
<li>क्षेत्रगत जिम्मेवारी वितरण</li>
<li>दैनिक कार्य योजना</li>
<li>पर्यवेक्षण र सहयोग व्यवस्था</li>
<li>प्रोत्साहन र मान्यता व्यवस्था</li>
</ul>''',
                'summary_nepali': 'डेटा संकलनका लागि सहजकर्ता र स्वयंसेवी गणकहरूको छनौट र तयारी',
                'order': 7
            },
            {
                'section_number': '१.४.४',
                'title': 'Data Collection',
                'title_nepali': 'तथ्याङ्क संकलन',
                'slug': 'data-collection',
                'content_nepali': '''<p>चौथो चरणमा तयार गरिएको ढाँचा र कार्यविधि अनुसार व्यवस्थित रूपमा तथ्याङ्क संकलन गरिएको छ।</p>

<h3>डेटा संकलन विधिहरू</h3>
<ul>
<li><strong>घरपरिवार सर्वेक्षण:</strong> प्रत्येक घरपरिवारको विस्तृत जानकारी</li>
<li><strong>संस्थागत सर्वेक्षण:</strong> विद्यालय, स्वास्थ्य संस्था, अन्य संस्थाहरू</li>
<li><strong>फोकस ग्रुप छलफल:</strong> समुदायका प्रमुख व्यक्तिहरूसँग</li>
<li><strong>मुख्य व्यक्ति अन्तर्वार्ता:</strong> विशेषज्ञ र नेताहरूसँग</li>
<li><strong>अवलोकन:</strong> भौतिक संरचना र वातावरण</li>
<li><strong>द्वितीयक डेटा:</strong> सरकारी र गैर-सरकारी स्रोतहरू</li>
</ul>

<h3>डेटा संकलनका क्षेत्रहरू</h3>
<ul>
<li>जनसांख्यिकीय विवरण</li>
<li>सामाजिक संरचना र अवस्था</li>
<li>आर्थिक गतिविधि र आम्दानी</li>
<li>भौतिक पूर्वाधार</li>
<li>प्राकृतिक संसाधन</li>
<li>सेवा सुविधाहरू</li>
<li>संस्थागत क्षमता</li>
<li>समस्या र चुनौतीहरू</li>
</ul>

<h3>गुणस्तर नियन्त्रण</h3>
<ul>
<li>दैनिक डेटा समीक्षा</li>
<li>नमूना जाँच र पुनः सर्वेक्षण</li>
<li>तुलनात्मक विश्लेषण</li>
<li>त्रुटि पहिचान र सुधार</li>
<li>पूर्णता र शुद्धता जाँच</li>
</ul>

<h3>डिजिटल प्रविधिको प्रयोग</h3>
<ul>
<li>मोबाइल डेटा संकलन एप</li>
<li>जीपीएस निर्देशांक</li>
<li>डिजिटल म्यापिङ</li>
<li>फोटो र भिडियो डकुमेन्टेशन</li>
<li>रियल-टाइम डेटा अपलोड</li>
</ul>''',
                'summary_nepali': 'व्यवस्थित विधि र प्रविधि प्रयोग गरी तथ्याङ्क संकलनको विवरण',
                'order': 8
            },
            {
                'section_number': '१.४.५',
                'title': 'Data Processing and Analysis',
                'title_nepali': 'तथ्याङ्क प्रशोधन तथा विश्लेषण र स्रोतनक्शा तयारी',
                'slug': 'data-processing-analysis',
                'content_nepali': '''<p>पाँचौं चरणमा संकलित तथ्याङ्कहरूको व्यवस्थित प्रशोधन, विश्लेषण र स्रोतनक्शा तयारी गरिएको छ।</p>

<h3>डेटा प्रशोधन</h3>
<ul>
<li><strong>डेटा सफाई:</strong> त्रुटि पहिचान र सुधार</li>
<li><strong>डेटा कोडिङ:</strong> मापदण्ड अनुसार वर्गीकरण</li>
<li><strong>डेटा एन्ट्री:</strong> डिजिटल डेटाबेसमा इन्ट्री</li>
<li><strong>डेटा वेरिफिकेशन:</strong> शुद्धता जाँच</li>
<li><strong>डेटा भ्यालिडेशन:</strong> तर्कसंगतता परीक्षण</li>
</ul>

<h3>डेटा विश्लेषण</h3>
<ul>
<li><strong>वर्णनात्मक विश्लेषण:</strong> मध्यक, औसत, प्रतिशत</li>
<li><strong>तुलनात्मक विश्लेषण:</strong> वडागत, क्षेत्रगत तुलना</li>
<li><strong>ट्रेन्ड विश्लेषण:</strong> समयावधिक परिवर्तन</li>
<li><strong>सहसम्बन्ध विश्लेषण:</strong> विभिन्न सूचकहरूबीचको सम्बन्ध</li>
<li><strong>स्थानिक विश्लेषण:</strong> भौगोलिक वितरण</li>
</ul>

<h3>ग्राफिक्स र चार्ट तयारी</h3>
<ul>
<li>बार चार्ट र पाई चार्ट</li>
<li>लाइन ग्राफ र एरिया चार्ट</li>
<li>हिस्टोग्राम र स्क्याटर प्लट</li>
<li>म्याप र जियो-भिजुअलाइजेशन</li>
<li>इन्फोग्राफिक्स र डेसबोर्ड</li>
</ul>

<h3>स्रोतनक्शा तयारी</h3>
<ul>
<li><strong>आधार नक्शा:</strong> प्रशासनिक सीमा र भूगोल</li>
<li><strong>जनसंख्या नक्शा:</strong> घनत्व र वितरण</li>
<li><strong>सेवा सुविधा नक्शा:</strong> विद्यालय, स्वास्थ्य केन्द्र</li>
<li><strong>पूर्वाधार नक्शा:</strong> सडक, पुल, सञ्चार</li>
<li><strong>संसाधन नक्शा:</strong> प्राकृतिक स्रोत, कृषि क्षेत्र</li>
<li><strong>जोखिम नक्शा:</strong> विपद्जन्य जोखिम क्षेत्र</li>
</ul>

<h3>सफ्टवेयर र उपकरणहरू</h3>
<ul>
<li>SPSS/R - सांख्यिकीय विश्लेषण</li>
<li>QGIS/ArcGIS - भौगोलिक विश्लेषण</li>
<li>Excel/Google Sheets - डेटा प्रशोधन</li>
<li>Tableau/Power BI - डेटा भिजुअलाइजेशन</li>
<li>Adobe Illustrator - ग्राफिक्स डिजाइन</li>
</ul>''',
                'summary_nepali': 'संकलित तथ्याङ्कको प्रशोधन, विश्लेषण र स्रोतनक्शा तयारीको विवरण',
                'order': 9
            },
            {
                'section_number': '१.४.६',
                'title': 'Draft Report Preparation',
                'title_nepali': 'वस्तुस्थिति विवरणको मस्यौदा तयारी',
                'slug': 'draft-report-preparation',
                'content_nepali': '''<p>छैटौं चरणमा विश्लेषित तथ्याङ्कका आधारमा वस्तुस्थिति विवरणको मस्यौदा प्रतिवेदन तयार गरिएको छ।</p>

<h3>मस्यौदा संरचना</h3>
<ul>
<li><strong>शीर्षक पृष्ठ:</strong> मुख्य जानकारी र पहिचान</li>
<li><strong>कार्यकारी सारांश:</strong> मुख्य निष्कर्ष र सिफारिसहरू</li>
<li><strong>विषयसूची:</strong> अध्याय र उप-अध्यायहरू</li>
<li><strong>चित्र र तालिका सूची:</strong> सबै भिजुअल सामग्री</li>
<li><strong>मुख्य सामग्री:</strong> सबै अध्यायहरू</li>
<li><strong>परिशिष्ट:</strong> विस्तृत तालिका र डेटा</li>
</ul>

<h3>लेखन मापदण्डहरू</h3>
<ul>
<li>सरल र स्पष्ट भाषाको प्रयोग</li>
<li>तथ्यमा आधारित विवरण</li>
<li>तर्कसंगत निष्कर्ष</li>
<li>व्यावहारिक सिफारिसहरू</li>
<li>एकरूपता र संगति</li>
</ul>

<h3>गुणस्तर नियन्त्रण</h3>
<ul>
<li><strong>सामग्री समीक्षा:</strong> तथ्यात्मक शुद्धता</li>
<li><strong>भाषा सम्पादन:</strong> व्याकरण र शैली</li>
<li><strong>ढाँचा जाँच:</strong> संरचना र प्रस्तुति</li>
<li><strong>चित्र र तालिका:</strong> गुणस्तर र सान्दर्भिकता</li>
<li><strong>सन्दर्भ जाँच:</strong> स्रोत र उद्धरण</li>
</ul>

<h3>समीक्षा प्रक्रिया</h3>
<ul>
<li>आन्तरिक समीक्षा टोली</li>
<li>विषयगत विशेषज्ञ समीक्षा</li>
<li>सहजकर्ता र गणकहरूको फिडब्याक</li>
<li>प्राविधिक समीक्षा</li>
<li>भाषा र सम्पादन समीक्षा</li>
</ul>

<h3>मस्यौदाका मुख्य भागहरू</h3>
<ul>
<li>परिचय र पृष्ठभूमि</li>
<li>भौगोलिक र प्रशासनिक विवरण</li>
<li>जनसांख्यिकीय विश्लेषण</li>
<li>आर्थिक अवस्था विश्लेषण</li>
<li>सामाजिक संरचना विश्लेषण</li>
<li>पूर्वाधार र सेवा विश्लेषण</li>
<li>समस्या र चुनौतीहरू</li>
<li>अवसर र सम्भावनाहरू</li>
</ul>''',
                'summary_nepali': 'विश्लेषित तथ्याङ्कका आधारमा वस्तुस्थिति विवरणको मस्यौदा तयारी',
                'order': 10
            },
            {
                'section_number': '१.४.७',
                'title': 'Feedback Collection',
                'title_nepali': 'वस्तुस्थिति विवरण सुझाव संकलन',
                'slug': 'feedback-collection',
                'content_nepali': '''<p>सातौं चरणमा तयार गरिएको मस्यौदा प्रतिवेदनमा विभिन्न सरोकारवालाहरूबाट सुझाव र फिडब्याक संकलन गरिएको छ।</p>

<h3>फिडब्याक संकलन विधिहरू</h3>
<ul>
<li><strong>सार्वजनिक छलफल:</strong> समुदायस्तरमा प्रस्तुति र छलफल</li>
<li><strong>वडा सभा:</strong> वडास्तरमा छलफल र सुझाव</li>
<li><strong>विषयगत बैठक:</strong> क्षेत्रगत विशेषज्ञहरूसँग छलफल</li>
<li><strong>अनलाइन फिडब्याक:</strong> डिजिटल प्लेटफर्म मार्फत</li>
<li><strong>लिखित सुझाव:</strong> औपचारिक फिडब्याक फारम</li>
</ul>

<h3>सरोकारवालाहरू</h3>
<ul>
<li><strong>निर्वाचित प्रतिनिधिहरू:</strong> मेयर/अध्यक्ष, उपाध्यक्ष, वडा अध्यक्षहरू</li>
<li><strong>कर्मचारीहरू:</strong> प्रमुख प्रशासकीय अधिकृत, शाखा प्रमुखहरू</li>
<li><strong>सामुदायिक संस्थाहरू:</strong> टोल विकास संस्था, महिला समूह</li>
<li><strong>निजी क्षेत्र:</strong> व्यापारी, उद्योगी, सेवा प्रदायकहरू</li>
<li><strong>नागरिक समाज:</strong> एनजीओ, सामाजिक संस्थाहरू</li>
<li><strong>शैक्षिक संस्थाहरू:</strong> विद्यालय, क्याम्पसका प्रतिनिधिहरू</li>
</ul>

<h3>फिडब्याकका मुख्य क्षेत्रहरू</h3>
<ul>
<li>तथ्याङ्कको शुद्धता र पूर्णता</li>
<li>विश्लेषणको गुणस्तर र गहिराई</li>
<li>निष्कर्षको सान्दर्भिकता</li>
<li>सिफारिसहरूको व्यावहारिकता</li>
<li>भाषा र प्र्रस्तुतिको स्पष्टता</li>
<li>छुटेका महत्वपूर्ण विषयहरू</li>
</ul>

<h3>फिडब्याक विश्लेषण</h3>
<ul>
<li><strong>श्रेणीकरण:</strong> विषयगत र प्राथमिकताका आधारमा</li>
<li><strong>समूहीकरण:</strong> समान प्रकृतिका सुझावहरू</li>
<li><strong>प्राथमिकीकरण:</strong> महत्त्व र व्यावहारिकताका आधारमा</li>
<li><strong>व्यवहार्यता अध्ययन:</strong> कार्यान्वयनको सम्भावना</li>
<li><strong>सुधार योजना:</strong> समावेश गर्ने सुझावहरू</li>
</ul>

<h3>संकलन रिपोर्ट</h3>
<ul>
<li>कुल फिडब्याकको संख्या र प्रकार</li>
<li>मुख्य सुझावहरूको सारांश</li>
<li>स्वीकार गरिने सुझावहरू</li>
<li>अस्वीकार गरिने सुझाव र कारण</li>
<li>आगामी सुधारका योजनाहरू</li>
</ul>''',
                'summary_nepali': 'मस्यौदा प्रतिवेदनमा सरोकारवालाहरूबाट सुझाव र फिडब्याक संकलन',
                'order': 11
            },
            {
                'section_number': '१.४.८',
                'title': 'Final Report Preparation',
                'title_nepali': 'गाउँ वस्तुस्थिति विवरण अन्तिम प्रतिवेदन तयारी',
                'slug': 'final-report-preparation',
                'content_nepali': '''<p>अन्तिम आठौं चरणमा संकलित सुझाव र फिडब्याकका आधारमा वस्तुस्थिति विवरणको अन्तिम प्रतिवेदन तयार गरिएको छ।</p>

<h3>अन्तिम प्रतिवेदन तयारी प्रक्रिया</h3>
<ul>
<li><strong>फिडब्याक समावेश:</strong> स्वीकृत सुझावहरूको समावेश</li>
<li><strong>सामग्री परिमार्जन:</strong> आवश्यक सुधार र थप</li>
<li><strong>अन्तिम सम्पादन:</strong> भाषा, व्याकरण र शैली</li>
<li><strong>गुणस्तर जाँच:</strong> अन्तिम गुणस्तर नियन्त्रण</li>
<li><strong>डिजाइन र लेआउट:</strong> व्यावसायिक प्रस्तुति</li>
</ul>

<h3>अन्तिम प्रतिवेदनका विशेषताहरू</h3>
<ul>
<li>पूर्ण र व्यापक सामग्री</li>
<li>शुद्ध र विश्वसनीय तथ्याङ्क</li>
<li>स्पष्ट र तर्कसंगत विश्लेषण</li>
<li>व्यावहारिक सिफारिसहरू</li>
<li>आकर्षक र व्यावसायिक प्रस्तुति</li>
<li>सजिलो नेभिगेसन र खोज</li>
</ul>

<h3>प्रकाशन तयारी</h3>
<ul>
<li><strong>प्रिन्ट संस्करण:</strong> उच्च गुणस्तरको छपाइ</li>
<li><strong>डिजिटल संस्करण:</strong> PDF र वेब फर्म्याट</li>
<li><strong>सारांश संस्करण:</strong> मुख्य बुँदाहरूको संक्षिप्त रूप</li>
<li><strong>इन्फोग्राफिक्स:</strong> मुख्य तथ्याङ्कको ग्राफिकल प्रस्तुति</li>
<li><strong>प्रेजेन्टेशन स्लाइड:</strong> प्रस्तुतीकरणका लागि</li>
</ul>

<h3>गुणस्तर आश्वासन</h3>
<ul>
<li>बाह्य विशेषज्ञ समीक्षा</li>
<li>सांख्यिकीय सत्यापन</li>
<li>सामग्री पूर्णता जाँच</li>
<li>प्राविधिक शुद्धता परीक्षण</li>
<li>अन्तिम प्रूफ रिडिङ</li>
</ul>

<h3>वितरण योजना</h3>
<ul>
<li><strong>आधिकारिक वितरण:</strong> सरकारी निकायहरूलाई</li>
<li><strong>सार्वजनिक वितरण:</strong> समुदाय र नागरिकहरूलाई</li>
<li><strong>डिजिटल प्रकाशन:</strong> वेबसाइट र सोशल मिडिया</li>
<li><strong>मिडिया सम्बन्ध:</strong> प्रेस रिलिज र समाचार</li>
<li><strong>शैक्षिक संस्थाहरू:</strong> अनुसन्धान र अध्ययनका लागि</li>
</ul>

<h3>अनुगमन र मूल्याङ्कन</h3>
<ul>
<li>प्रतिवेदनको उपयोग अनुगमन</li>
<li>फिडब्याक र सुझाव संकलन</li>
<li>सुधारका क्षेत्र पहिचान</li>
<li>भविष्यका लागि सिकाइ</li>
<li>नियमित अपडेट योजना</li>
</ul>''',
                'summary_nepali': 'सुझाव समावेश गरी वस्तुस्थिति विवरणको अन्तिम प्रतिवेदन तयारी',
                'order': 12
            },
            {
                'section_number': '१.५',
                'title': 'Scope of Status Report',
                'title_nepali': 'वस्तुस्थिति विवरणको सीमा',
                'slug': 'scope-of-report',
                'content_nepali': '''<p>गाउँ÷नगरपालिकाको वस्तुस्थिति विवरणको सीमा र क्षेत्र निम्नानुसार निर्धारण गरिएको छ:</p>

<h3>भौगोलिक सीमा</h3>
<ul>
<li>गाउँ÷नगरपालिकाको सम्पूर्ण भौगोलिक क्षेत्र</li>
<li>सबै वडाहरूको समावेश</li>
<li>मुख्य बस्ती र फाँटहरू</li>
<li>प्राकृतिक र प्रशासनिक सीमाना भित्रका क्षेत्रहरू</li>
</ul>

<h3>समयावधिको सीमा</h3>
<ul>
<li><strong>आधार वर्ष:</strong> हालको आर्थिक वर्ष</li>
<li><strong>तुलनात्मक डेटा:</strong> पछिल्लो पाँच वर्षको ट्रेन्ड</li>
<li><strong>भविष्यको प्रक्षेपण:</strong> आगामी दश वर्षको योजना</li>
<li><strong>मौसमी भिन्नता:</strong> ऋतुगत परिवर्तनको विश्लेषण</li>
</ul>

<h3>विषयगत सीमा</h3>
<ul>
<li><strong>जनसांख्यिकीय विवरण:</strong> जनसंख्या, उमेर, लिङ्ग, जाति</li>
<li><strong>सामाजिक संरचना:</strong> शिक्षा, स्वास्थ्य, सामाजिक सेवा</li>
<li><strong>आर्थिक अवस्था:</strong> आम्दानी, पेशा, उत्पादन, व्यापार</li>
<li><strong>भौतिक पूर्वाधार:</strong> यातायात, सञ्चार, ऊर्जा</li>
<li><strong>प्राकृतिक संसाधन:</strong> जमिन, जंगल, पानी, खनिज</li>
<li><strong>वातावरणीय अवस्था:</strong> जलवायु, प्रदूषण, जैविक विविधता</li>
</ul>

<h3>जनसंख्याको सीमा</h3>
<ul>
<li>सबै स्थायी बासिन्दाहरू</li>
<li>अस्थायी बसोबास गर्नेहरू</li>
<li>संस्थागत जनसंख्या</li>
<li>विशेष आवश्यकता भएका व्यक्तिहरू</li>
<li>सीमान्तकृत समुदायहरू</li>
</ul>

<h3>डेटाको सीमा</h3>
<ul>
<li><strong>प्राथमिक डेटा:</strong> प्रत्यक्ष सर्वेक्षणबाट प्राप्त</li>
<li><strong>द्वितीयक डेटा:</strong> सरकारी र गैर-सरकारी स्रोत</li>
<li><strong>गुणात्मक डेटा:</strong> छलफल र अन्तर्वार्ताबाट</li>
<li><strong>मात्रात्मक डेटा:</strong> संख्यात्मक तथ्याङ्क</li>
</ul>

<h3>भाषिक सीमा</h3>
<ul>
<li>मुख्यतः नेपाली भाषामा</li>
<li>स्थानीय शब्दावली र सन्दर्भ</li>
<li>प्राविधिक शब्दहरूको स्पष्टीकरण</li>
<li>अन्तर्राष्ट्रिय मापदण्डसँग मेल खाने शब्दावली</li>
</ul>

<h3>प्राविधिक सीमा</h3>
<ul>
<li>उपलब्ध प्रविधि र उपकरणको सीमा</li>
<li>जनशक्ति र दक्षताको सीमा</li>
<li>बजेट र समयको सीमा</li>
<li>पहुँच र सुरक्षाको सीमा</li>
</ul>

<h3>गुप्तताको सीमा</h3>
<ul>
<li>व्यक्तिगत जानकारीको सुरक्षा</li>
<li>संवेदनशील डेटाको सुरक्षा</li>
<li>राष्ट्रिय सुरक्षासँग जोडिएका विषयहरू</li>
<li>नीतिगत निर्णयमा प्रभाव पार्न सक्ने विषयहरू</li>
</ul>''',
                'summary_nepali': 'वस्तुस्थिति विवरणको भौगोलिक, समयावधि, विषयगत र प्राविधिक सीमाहरूको निर्धारण',
                'order': 13
            }
        ]

        # Create sections
        for section_data in sections_data:
            if force_update:
                # Update or create with force
                section, created = ReportSection.objects.update_or_create(
                    category=category,
                    slug=section_data['slug'],
                    defaults={
                        'title': section_data['title'],
                        'title_nepali': section_data['title_nepali'],
                        'section_number': section_data['section_number'],
                        'content_nepali': section_data['content_nepali'],
                        'summary_nepali': section_data['summary_nepali'],
                        'order': section_data['order'],
                        'is_published': True,
                        'meta_title': f"{section_data['title']} - {category.name}",
                        'meta_description': section_data['summary_nepali'][:200],
                        'meta_keywords': f"गाधवा, {section_data['title_nepali']}, वस्तुस्थिति विवरण"
                    }
                )
                
                if created:
                    self.stdout.write(self.style.SUCCESS(f'Created section: {section.section_number} - {section.title_nepali}'))
                else:
                    self.stdout.write(self.style.SUCCESS(f'Updated section: {section.section_number} - {section.title_nepali}'))
            else:
                # Only create if doesn't exist
                section, created = ReportSection.objects.get_or_create(
                    category=category,
                    slug=section_data['slug'],
                    defaults={
                        'title': section_data['title'],
                        'title_nepali': section_data['title_nepali'],
                        'section_number': section_data['section_number'],
                        'content_nepali': section_data['content_nepali'],
                        'summary_nepali': section_data['summary_nepali'],
                        'order': section_data['order'],
                        'is_published': True,
                        'meta_title': f"{section_data['title']} - {category.name}",
                        'meta_description': section_data['summary_nepali'][:200],
                        'meta_keywords': f"गाधवा, {section_data['title_nepali']}, वस्तुस्थिति विवरण"
                    }
                )
                
                if created:
                    self.stdout.write(self.style.SUCCESS(f'Created section: {section.section_number} - {section.title_nepali}'))
                else:
                    self.stdout.write(self.style.WARNING(f'Section already exists: {section.section_number} - {section.title_nepali}'))

        self.stdout.write(self.style.SUCCESS('Successfully populated Introduction chapter content!'))
        self.stdout.write(self.style.SUCCESS(f'Category: {category.name} ({category.name_nepali})'))
        self.stdout.write(self.style.SUCCESS(f'Total Sections: {category.sections.count()}'))
